<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login - UniChat</title>
{% load static %}
<link rel="stylesheet" href="{% static 'css/login.css' %}">
</head>
<body>
<div class="login-form-container">
    <div class="login-header">
        <img src="{% static 'img/logo.png' %}" alt="UniChat Logo" class="small-logo">
        <h1>UniChat</h1>
        <p>Entre na sua conta</p>
    </div>

    <form method="post" class="login-form">
        {% csrf_token %}

        {% if error %}
        <div class="alert alert-danger">{{ error }}</div>
        {% endif %}

        <div class="form-group">
            {{ form.username.label_tag }}
            {{ form.username }}
            {% if form.username.errors %}
                <div class="error">{{ form.username.errors }}</div>
            {% endif %}
        </div>

        <div class="form-group">
            {{ form.password.label_tag }}
            {{ form.password }}
            <span id="toggle-password">👁</span>
            {% if form.password.errors %}
                <div class="error">{{ form.password.errors }}</div>
            {% endif %}
        </div>

        <div class="form-actions">
            <div>
                {{ form.remember_me }}
                {{ form.remember_me.label_tag }}
            </div>
            <a href="{% url 'password_reset' %}">Esqueci minha senha</a>
        </div>

        <button type="submit">Entrar</button>
    </form>

    <p class="signup-link">Não tem uma conta? <a href="{% url 'register' %}">Cadastre-se gratuitamente</a></p>
</div>

<script>
const passwordInput = document.getElementById('id_password');
const togglePassword = document.getElementById('toggle-password');

togglePassword.addEventListener('click', () => {
    if (passwordInput.type === 'password') {
        passwordInput.type = 'text';
        togglePassword.textContent = '🙈';
    } else {
        passwordInput.type = 'password';
        togglePassword.textContent = '👁';
    }
});
</script>
</body>
</html>
