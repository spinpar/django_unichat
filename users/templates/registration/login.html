<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login - UniChat</title>
{% load static %}
<link rel="stylesheet" href="{% static 'css/login.css' %}">
</head>
<body>

<div class="login-form-container">
    <div class="login-header">
        <img src="{% static 'img/logo.png' %}" alt="UniChat Logo" class="small-logo">
        <h1>UniChat</h1>
        <p>Entre na sua conta</p>
    </div>

    <form method="post" class="login-form">
        {% csrf_token %}
        <div class="form-group">
            <label for="id_username">Nome de usuário</label>
            <input type="text" name="username" id="id_username" placeholder="Usuário" required>
        </div>

        <div class="form-group">
            <label for="id_password">Palavra-passe</label>
            <input type="password" name="password" id="id_password" placeholder="Senha" required>
            <span id="toggle-password">👁</span>
        </div>

        <div class="form-actions">
            <div>
                <input type="checkbox" id="remember-me">
                <label for="remember-me">Lembrar-me</label>
            </div>
            <a href="{% url 'password_reset' %}">Esqueci minha senha</a>
        </div>

        <button type="submit">Entrar</button>
    </form>

    <p class="signup-link">Não tem uma conta? <a href="{% url 'register' %}">Cadastre-se gratuitamente</a></p>
</div>

<script>
const passwordInput = document.getElementById('id_password');
const togglePassword = document.getElementById('toggle-password');

togglePassword.addEventListener('click', () => {
    if (passwordInput.type === 'password') {
        passwordInput.type = 'text';
        togglePassword.textContent = '🙈';
    } else {
        passwordInput.type = 'password';
        togglePassword.textContent = '👁';
    }
});

// Pop-up de erro caso login falhe
{% if error %}
alert('Senha incorreta, tente novamente');
{% endif %}
</script>

</body>
</html>
